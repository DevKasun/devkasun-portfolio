---
import HeaderLink from './HeaderLink.astro';
import { Image } from 'astro:assets';
import logoImage from '../assets/images/logo-svg-version.svg';
---

<header class='fixed top-0 w-full h-fit py-4 bg-kwhite'>
	<div class='container mx-auto px-8 flex items-center justify-between'>
		<a href='/' class='relative flex flex-row items-center gap-2 z-10 text-2xl'>
    		  <Image
    			class='col-span-2 w-8 h-8 sm:w-12 sm:h-12'
    			src={logoImage}
    			width={48}
    			height={48}
    			alt='devkasun_logo'/>
            DevKasun
		</a>
		<nav class='flex justify-center'>
			<button id='menu-toggle' class='block lg:hidden relative z-10'>
			    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 menu-icon">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 close-icon hidden">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
                </svg>
			</button>
			<menu
				id='menu'
				class='hidden lg:flex gap-8 lg:gap-4 lg:static lg:w-auto lg:h-auto lg:bg-transparent lg:flex-row fixed w-full h-full bg-aqua top-0 left-0 right-0 bottom-0 flex-col items-center justify-center bg-kwhite'
			>
				<li>
					<HeaderLink href='/'>Home</HeaderLink>
				</li>
				<li>
					<HeaderLink href='/about'>About</HeaderLink>
				</li>
				<li>
					<HeaderLink href='/blog'>Blog</HeaderLink>
				</li>
				<li>
					<HeaderLink href='/contact'>Contact</HeaderLink>
				</li>
			</menu>
		</nav>
	</div>
</header>

<script>
	document.addEventListener('DOMContentLoaded', () => {
		const menuToggle = document.getElementById('menu-toggle');
		const menu = document.getElementById('menu');
		const menuIcon = document.querySelector('.menu-icon');
		const closeIcon = document.querySelector('.close-icon');

		if (menuToggle && menu && menuIcon && closeIcon) {
			menuToggle.addEventListener('click', () => {
				menu.classList.toggle('hidden');
				menu.classList.toggle('flex');
				menuIcon.classList.toggle('hidden');
				closeIcon.classList.toggle('hidden');
			});
		}
	});
</script>
